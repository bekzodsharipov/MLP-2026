document.addEventListener("DOMContentLoaded", (function () { function e(e) { var t = new XMLHttpRequest; t.open("POST", "https://user-action-tracker.asosit.uz/events", !0), t.setRequestHeader("Content-Type", "application/json"), t.onreadystatechange = function () { 4 === t.readyState && (200 === t.status ? console.log("Yuborildi:", t.responseText) : console.error("Xatolik:", t.status)) }, t.send(JSON.stringify({ type: e, site_name: "Asosiy" })) } e("Saytga kirdi"); var t = document.querySelectorAll(".registerBtn"), n = document.getElementById("registrationModal"), o = document.getElementById("closeModalBtn"), r = document.querySelector(".homeModalOverlay"), a = document.getElementById("registrationForm"), i = document.getElementById("phone"), l = document.getElementById("phoneError"), d = document.getElementById("submitBtn"), s = document.getElementById("timer"), c = { "+998": { placeholder: "88 888 88 88", format: function (e) { var t = ""; return e.length > 0 && (t += e.slice(0, 2)), e.length > 2 && (t += " " + e.slice(2, 5)), e.length > 5 && (t += " " + e.slice(5, 7)), e.length > 7 && (t += " " + e.slice(7, 9)), t }, validate: function (e) { return /^\d{2} \d{3} \d{2} \d{2}$/.test(e) } } }, u = "+998"; function m() { n.style.display = "none", document.body.style.overflowY = "scroll" } o.addEventListener("click", m), r.addEventListener("click", m), t.forEach((function (t) { t.addEventListener("click", (function () { e("Tugmani bosdi"), n.style.display = "block", document.body.style.overflowY = "hidden" })) })), a.addEventListener("submit", (function (e) { e.preventDefault(); var t = i.value; if ((c[u] || c["+998"]).validate(t)) { l.style.display = "none", d.textContent = "YUBORILMOQDA...", d.disabled = !0; var n = new Date, o = { TelefonRaqam: u + " " + t, SanaSoat: n.toLocaleDateString("uz-UZ") + " - " + n.toLocaleTimeString("uz-UZ") }; localStorage.setItem("formData", JSON.stringify(o)), window.location.href = "/thankYou.html" } else l.style.display = "block" })), i.addEventListener("input", (function () { var e = this.value.replace(/\D/g, ""), t = c[u] || c["+998"]; this.value = t.format(e), l.style.display = "none" })); var g = 120, y = setInterval((function () { if (g <= 0) return clearInterval(y), void (s.textContent = "00:00"); g--; var e = Math.floor(g / 60), t = g % 60; s.textContent = e.toString().padStart(2, "0") + ":" + t.toString().padStart(2, "0") }), 1e3) })); let duration = 120; const timerBox = document.querySelector(".timer__box"), interval = setInterval((() => { let e = Math.floor(duration / 60), t = duration % 60; e = e < 10 ? "0" + e : e, t = t < 10 ? "0" + t : t, timerBox.textContent = `${e}:${t}`, duration <= 0 && (clearInterval(interval), timerBox.textContent = "00:00"), duration-- }), 1e3), img = document.querySelector(".mobile-hero-image"), bigSrc = img.getAttribute("data-src"), highRes = new Image; highRes.src = bigSrc, highRes.onload = () => { img.src = bigSrc, img.classList.remove("blur-up") };